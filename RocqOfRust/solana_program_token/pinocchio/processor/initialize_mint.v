(* Generated by rocq-of-rust *)
Require Import RocqOfRust.RocqOfRust.

Module processor.
  Module initialize_mint.
    (*
    pub fn process_initialize_mint(accounts: &[AccountInfo], instruction_data: &[u8]) -> ProgramResult {
        shared::initialize_mint::process_initialize_mint(accounts, instruction_data, true)
    }
    *)
    Definition process_initialize_mint (ε : list Value.t) (τ : list Ty.t) (α : list Value.t) : M :=
      match ε, τ, α with
      | [], [], [ accounts; instruction_data ] =>
        ltac:(M.monadic
          (let accounts :=
            M.alloc (|
              Ty.apply
                (Ty.path "&")
                []
                [ Ty.apply (Ty.path "slice") [] [ Ty.path "pinocchio::account_info::AccountInfo" ]
                ],
              accounts
            |) in
          let instruction_data :=
            M.alloc (|
              Ty.apply (Ty.path "&") [] [ Ty.apply (Ty.path "slice") [] [ Ty.path "u8" ] ],
              instruction_data
            |) in
          M.call_closure (|
            Ty.apply
              (Ty.path "core::result::Result")
              []
              [ Ty.tuple []; Ty.path "pinocchio::program_error::ProgramError" ],
            M.get_function (|
              "pinocchio_token_program::processor::shared::initialize_mint::process_initialize_mint",
              [],
              []
            |),
            [
              M.borrow (| Pointer.Kind.Ref, M.deref (| M.read (| accounts |) |) |);
              M.borrow (| Pointer.Kind.Ref, M.deref (| M.read (| instruction_data |) |) |);
              Value.Bool true
            ]
          |)))
      | _, _, _ => M.impossible "wrong number of arguments"
      end.
    
    Global Instance Instance_IsFunction_process_initialize_mint :
      M.IsFunction.C
        "pinocchio_token_program::processor::initialize_mint::process_initialize_mint"
        process_initialize_mint.
    Admitted.
    Global Typeclasses Opaque process_initialize_mint.
  End initialize_mint.
End processor.
